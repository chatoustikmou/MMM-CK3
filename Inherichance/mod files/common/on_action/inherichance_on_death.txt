# character just about to die in root scope
# if a killer is know, it's set as scope:killer
#Triggered by code
on_death = { on_actions = { on_death_inherichance }}
on_death_inherichance = {
	trigger = {
		OR = {
			is_ai = no
			has_realm_law = confederate_partition_succession_law
			has_realm_law = partition_succession_law
			has_realm_law = high_partition_succession_law
		}
	}
	effect = {
		random_player_heir = {
			save_scope_as = random_heir
		}
		primary_heir = {
			save_temporary_scope_as = normal_heir
			set_variable = {
				name = heir
				value = scope:random_heir
			}
		}
		scope:random_heir = {
			every_heir_to_title = {
				limit = { holder = root }
				scope:normal_heir = {
					add_to_variable_list = {
						name = titles_inherited
						target = PREV
					}
				}
			}
		}
		# open_view_data = succession_event
		# set_player_character = scope:random_heir
	}
}